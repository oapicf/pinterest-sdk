{-
   Pinterest REST API
   Pinterest's REST API

   The version of the OpenAPI document: 5.14.0
   Contact: blah+oapicf@cliffano.com

   NOTE: This file is auto generated by the openapi-generator.
   https://github.com/openapitools/openapi-generator.git

   DO NOT EDIT THIS FILE MANUALLY.

   For more info on generating Elm code, see https://eriktim.github.io/openapi-elm/
-}


module Api.Request.BusinessAccessInvite exposing
    ( assetAccessRequestsCreate
    , cancelInvitesOrRequests
    , createAssetInvites
    , createMembershipOrPartnershipInvites
    , getInvites, InviteStatus(..), inviteStatusVariants
    , respondBusinessAccessInvites
    )

import Api
import Api.Data exposing (..)
import Dict
import Http
import Json.Decode
import Json.Encode


type InviteStatus
    = InviteStatusPENDING
    | InviteStatusEXPIRED


inviteStatusVariants : List InviteStatus
inviteStatusVariants =
    [ InviteStatusPENDING
    , InviteStatusEXPIRED
    ]


stringFromInviteStatus : InviteStatus -> String
stringFromInviteStatus model =
    case model of
        InviteStatusPENDING ->
            "PENDING"

        InviteStatusEXPIRED ->
            "EXPIRED"



{-| Create a request to access an existing partner's assets with the specified permissions. The request will be sent to the partner for approval. The assets that can be requested are ad accounts and profiles.
-}
assetAccessRequestsCreate : String -> Api.Data.CreateAssetAccessRequestBody -> Api.Request Api.Data.CreateAssetAccessRequestResponse
assetAccessRequestsCreate businessId_path createAssetAccessRequestBody_body =
    Api.request
        "POST"
        "/businesses/{business_id}/requests/assets/access"
        [ ( "businessId", identity businessId_path ) ]
        []
        []
        (Maybe.map Http.jsonBody (Just (Api.Data.encodeCreateAssetAccessRequestBody createAssetAccessRequestBody_body)))
        Api.Data.createAssetAccessRequestResponseDecoder


{-| Cancel membership/partnership invites and/or requests.
-}
cancelInvitesOrRequests : String -> Api.Data.CancelInvitesBody -> Api.Request Api.Data.DeleteInvitesResultsResponseArray
cancelInvitesOrRequests businessId_path cancelInvitesBody_body =
    Api.request
        "DELETE"
        "/businesses/{business_id}/invites"
        [ ( "businessId", identity businessId_path ) ]
        []
        []
        (Maybe.map Http.jsonBody (Just (Api.Data.encodeCancelInvitesBody cancelInvitesBody_body)))
        Api.Data.deleteInvitesResultsResponseArrayDecoder


{-| Assign asset permissions information to an existing invite/request. Can be used to: - Request access to a partner's asset. Note: This is only for when no existing partnership exists. If an existing   partnership exists, use \"Create a request to access an existing partner's assets\" to request access to your   partner's assets.     - invite_type=\"PARTNER_REQUEST\" - Invite a partner to access your business assets. Note: This is only for when there is no existing partnership.   If there is an existing partnership, use \"Assign/Update partner asset permissions\" to assign a partner access to   new assets.     - invite_type=\"PARTNER_INVITE\" - Invite a member to access your business assets. Note: This is only for when there is no existing membership.   If there is an existing membership, use \"Assign/Update member asset permissions\" to assign a member access to new   assets.     - invite_type=\"MEMBER_INVITE\"  To learn more about permission levels, visit https://help.pinterest.com/en/business/article/business-manager-overview.
-}
createAssetInvites : String -> Api.Data.CreateAssetInvitesRequest -> Api.Request Api.Data.UpdateInvitesResultsResponseArray
createAssetInvites businessId_path createAssetInvitesRequest_body =
    Api.request
        "POST"
        "/businesses/{business_id}/invites/assets/access"
        [ ( "businessId", identity businessId_path ) ]
        []
        []
        (Maybe.map Http.jsonBody (Just (Api.Data.encodeCreateAssetInvitesRequest createAssetInvitesRequest_body)))
        Api.Data.updateInvitesResultsResponseArrayDecoder


{-| Create batch invites or requests. Can create batch invites or requests as described below. - Invite members to join the business. This would required specifying the following:     - invite_type=\"MEMBER_INVITE\"     - business_role=\"EMPLOYEE\" OR business_role=\"BIZ_ADMIN\" (To learn more about business roles, visit     https://help.pinterest.com/en/business/article/profile-permissions-in-business-access.)     - members - Invite partners to access your business assets. This would require specifying the following:     - invite_type=\"PARTNER_INVITE\"     - business_role=\"PARTNER\"     - partners - Request to be a partner so you can access their assets. This would require specifying the following:     - invite_type=\"PARTNER_REQUEST\"     - business_role=\"PARTNER\"     - partners
-}
createMembershipOrPartnershipInvites : String -> Api.Data.CreateMembershipOrPartnershipInvitesBody -> Api.Request Api.Data.CreateInvitesResultsResponseArray
createMembershipOrPartnershipInvites businessId_path createMembershipOrPartnershipInvitesBody_body =
    Api.request
        "POST"
        "/businesses/{business_id}/invites"
        [ ( "businessId", identity businessId_path ) ]
        []
        []
        (Maybe.map Http.jsonBody (Just (Api.Data.encodeCreateMembershipOrPartnershipInvitesBody createMembershipOrPartnershipInvitesBody_body)))
        Api.Data.createInvitesResultsResponseArrayDecoder


{-| Get the membership/partnership invites and/or requests for the authorized user.
-}
getInvites : String -> Maybe Bool -> Maybe (List InviteStatus) -> Maybe InviteType -> Maybe String -> Maybe Int -> Api.Request Api.Data.GetInvites200Response
getInvites businessId_path isMember_query inviteStatus_query inviteType_query bookmark_query pageSize_query =
    Api.request
        "GET"
        "/businesses/{business_id}/invites"
        [ ( "businessId", identity businessId_path ) ]
        [ ( "is_member", Maybe.map (\val -> if val then "true" else "false") isMember_query ), ( "invite_status", Maybe.map (String.join "," << List.map stringFromInviteStatus) inviteStatus_query ), ( "invite_type", Maybe.map Api.Data.stringFromInviteType inviteType_query ), ( "bookmark", Maybe.map identity bookmark_query ), ( "page_size", Maybe.map String.fromInt pageSize_query ) ]
        []
        Nothing
        Api.Data.getInvites200ResponseDecoder


{-| Accept or decline invites or requests.
-}
respondBusinessAccessInvites : Api.Data.AuthRespondInvitesBody -> Api.Request Api.Data.RespondToInvitesResponseArray
respondBusinessAccessInvites authRespondInvitesBody_body =
    Api.request
        "PATCH"
        "/businesses/invites"
        []
        []
        []
        (Maybe.map Http.jsonBody (Just (Api.Data.encodeAuthRespondInvitesBody authRespondInvitesBody_body)))
        Api.Data.respondToInvitesResponseArrayDecoder

